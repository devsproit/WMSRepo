"use strict";function onChange(n){var i=n.sender.select(),t=[];i.each(function(){var n=$("#myGrid").data("kendoGrid"),i=n.dataItem(this);t.push(i)});fildetails(t);console.log(t[0].Amt)}function additionalData(){var n={pono:$("#ponumber").val()};return addAntiForgeryToken(n),n}function fildetails(n){$("#Material").val(n[0].MaterialDescription);$("#MaterialCode").val(n[0].SubItemCode);$("#qtyu,#Qtysuk,#QtyD,#QtyO,#QtyI").val(n[0].Qty)}function warehouse(){$.ajax({type:"GET",url:"/Grn/Warehouse","async":!1,success:function(n){for(var i="",t=0;t<n.length;t++)i+='<option value="'+n[t].Id+'" data-code='+n[t].WarehouseCode+">"+n[t].WarehouseName+"<\/option>";$("#WarehouseId").html(i)}});zones($("#WarehouseId").val())}function zones(n){$.ajax({type:"GET",url:"/Grn/WarehouseZone?warehouseid="+n,data:"{}",success:function(n){for(var i="",t=0;t<n.length;t++)i+='<option value="'+n[t].Id+'" data-code='+n[t].ZoneCode+">"+n[t].ZoneName+"<\/option>";$("#zone").html(i);$("#zone").trigger("change")}});area($("#WarehouseId").val(),$("#zone").val())}function area(n,t){$.ajax({type:"GET",url:"/Grn/WarehouseArea?warehouseid="+n+"&zoneid="+t,data:"{}",success:function(n){for(var i="",t=0;t<n.length;t++)i+='<option value="'+n[t].Id+'" data-code='+n[t].AreaCode+"  data-size="+n[t].Size+">"+n[t].AreaName+"<\/option>";$("#Warea").html(i);$("#Warea").trigger("change")}})}$(function(){$("#ponumber").select2({theme:"bootstrap4",ajax:{url:"/Grn/PendingPO",dataType:"json",type:"GET",processResults:function(n){return console.log(n),{results:$.map(n,function(n){return{text:n,id:n}})}}}})});$(document).ready(function(){warehouse();$("#WarehouseId").change(function(){var n=$(this).find("option:selected"),t=n.attr("data-code");$("#wcode").val(t)});$("#WarehouseId").trigger("change");$("#zone").change(function(){var n=$(this).find("option:selected"),t=n.attr("data-code");$("#zcode").val(t);area($("#WarehouseId").val(),$("#zone").val())});$("#zone").trigger("change");$("#Warea").change(function(){var n=$(this).find("option:selected"),t=n.attr("data-code");$("#acode").val(t)});$("#Warea").trigger("change");$("#ponumber").on("change",function(){$("#ponumber_details").val($("#ponumber").val());var n=$("#myGrid").data("kendoGrid");n.dataSource.page(1)});var n=!0;$("#myGrid").kendoGrid({dataSource:{transport:{read:{url:"/Grn/PODetails",type:"POST",dataType:"json",data:additionalData,complete:function(n){console.log("Remote built-in transport",n);n.status==401}}},schema:{data:"Data",total:"Total",errors:"Errors"},error:function(n){console.log(n);this.cancelChanges()},pageSize:20,sortable:!0,serverPaging:!0,serverSorting:!0,requestStart:function(){n&&kendo.ui.progress($("#booking-grid"),!0)},requestEnd:function(){n&&kendo.ui.progress($("#booking-grid"),!1);n=!1}},selectable:"raw",change:onChange,height:350,pageable:{refresh:!0,pageSizes:!0},scrollable:!1,columns:[{field:"Id",title:"Id",width:50},{field:"SubItemCode",title:"SubItemCode",width:100},{field:"SubItemName",title:"SubItemName",width:120},{field:"Qty",title:"Qty",encoded:!1,width:120},{field:"Unit",title:"Unit",width:100},{field:"MaterialDescription",title:"MaterialDescription",width:300},{field:"Amt",title:"Amt",width:100},]})});